### 设计

- 读取时，把副作用函数存到桶里
- 设置时，把副作用函数从桶里取出执行

### 桶的数据结构

WeakMap -> (target --> Map) -> (key --> Set)

### 额外注意事项

在三元表达式如 document.body.innerText = obj.ok ? obj.text : 'not' 这种场景下，如果 obj.ok 为 false，不管此时 obj.text 怎么变化，我们都不希望副作用函数重新执行，解决方式就是在每次副作用函数执行前，都先把它从所有与之关联的依赖集合中删除，副作用函数执行完后，会重新建立联系，但不会包括遗留的副作用函数
